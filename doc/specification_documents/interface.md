# ユーザーインターフェース仕様書

## 1. 全体レイアウト

### 1.1 基本レイアウト
- **ヘッダー**:
  - アプリケーションロゴ/名称
  - 現在のプロジェクト選択ドロップダウン
  - 時間トラッキング操作ボタン
  - ユーザー設定メニュー
- **サイドバー**:
  - メインナビゲーション
    - ダッシュボード
    - プロジェクト
    - タスク
    - 時間記録
    - 分析・レポート
  - プロジェクト一覧
  - タスクフィルター
- **メインコンテンツエリア**:
  - 現在選択されたビューの表示
  - コンテキストに応じた操作ボタン
- **フッター**:
  - ステータス情報
  - バージョン情報

### 1.2 レスポンシブ対応
- デスクトップ優先設計（1280px以上）
- タブレット対応（768px以上）
- モバイルは基本的な閲覧のみ対応（将来拡張）

## 2. 主要画面

### 2.1 ダッシュボード画面
- **目的**: 現在の作業状況とプロジェクト進捗の概要表示
- **主要コンポーネント**:
  - プロジェクト進捗サマリーカード
    - プロジェクト名
    - 進捗率
    - バッファ消費率（色分け表示）
    - 予測完了日
  - 今日の作業タスクリスト
    - 優先タスクのハイライト表示
    - 作業開始/完了ボタン
  - バッファ消費チャート
    - バーンダウンチャート
    - トレンドライン
  - 最近の定常タスク記録
  - クイックアクション
    - 新規タスク作成
    - 定常タスク記録開始
    - プロジェクト切り替え

### 2.2 プロジェクト管理画面
- **目的**: プロジェクトの詳細管理と進捗監視
- **主要コンポーネント**:
  - プロジェクト基本情報
    - 名前、説明、期間、目標
    - 編集機能
  - クリティカルチェーン表示
    - 依存関係の視覚化
    - クリティカルパスのハイライト
  - バッファ管理セクション
    - プロジェクトバッファ設定
    - バッファ消費率表示
    - バッファステータス（緑/黄/赤）
  - タスク一覧
    - フィルタリング機能
    - ソート機能
    - 一括編集機能
  - 進捗チャート
    - バッファ消費チャート
    - 完了予測ライン

### 2.3 タスク管理画面
- **目的**: タスクの作成、編集、管理
- **主要コンポーネント**:
  - タスク一覧
    - ステータス別グループ化
    - ドラッグ＆ドロップでのステータス変更
    - 優先度表示
  - タスク詳細/編集フォーム
    - 基本情報（名前、説明、期限など）
    - 50%確率見積り入力
      - 過去の類似タスク実績表示
      - 見積り傾向の提示
    - 依存関係設定
    - カテゴリ/タグ設定
  - タスク実行コントロール
    - 開始/一時停止/完了ボタン
    - 経過時間表示
    - 実績工数記録
  - 予実管理セクション
    - 見積りvs実績の比較
    - 差異の理由記録
    - 見積り傾向の表示

### 2.4 時間トラッキング画面
- **目的**: 作業時間の記録と分析
- **主要コンポーネント**:
  - アクティブタスク表示
    - 現在作業中のタスク情報
    - 経過時間
    - 一時停止/完了ボタン
  - 定常タスク記録
    - タスクタイプ選択
    - タイトル/説明入力
    - タグ付け
    - プロジェクト紐付け
  - 時間記録履歴
    - 日付別グループ化
    - タスク種類別色分け
    - 編集/削除機能
  - 時間分析
    - 日/週/月別の時間配分
    - カテゴリ別の時間配分円グラフ
    - プロジェクト別の時間集計

### 2.5 分析・レポート画面
- **目的**: 作業パターンと予実分析
- **主要コンポーネント**:
  - 見積り精度分析
    - 予実比率のトレンドグラフ
    - タスク種類別の見積り精度
    - 見積り傾向サマリー
  - バッファ消費分析
    - 時系列バッファ消費グラフ
    - 消費率の変化点分析
    - プロジェクト比較
  - 作業負荷分析
    - 日/週/月別の作業時間ヒートマップ
    - キャパシティvs実績比較
    - オーバーコミット検出
  - 予実乖離要因分析
    - 要因別の集計グラフ
    - 繰り返し発生する要因のハイライト
    - 改善提案

## 3. 操作フロー

### 3.1 新規プロジェクト作成フロー
1. ダッシュボードまたはプロジェクト一覧から「新規プロジェクト」ボタンをクリック
2. プロジェクト基本情報入力（名前、説明、期間など）
3. プロジェクトバッファ設定（自動計算または手動設定）
4. 初期タスク追加（オプション）
5. 保存して完了

### 3.2 タスク作成・実行フロー
1. プロジェクト画面またはタスク一覧から「新規タスク」ボタンをクリック
2. タスク基本情報入力（名前、説明、期限など）
3. 50%確率見積りの入力
   - 類似タスクの実績参照
   - 見積り傾向の確認
4. 依存関係の設定（オプション）
5. 保存してタスク一覧に追加
6. タスク一覧から対象タスクの「開始」ボタンをクリック
7. 作業完了後、「完了」ボタンをクリック
8. 実績工数を記録
9. 予実差異がある場合、理由を選択/記録
10. 完了確定

### 3.3 定常タスク記録フロー
1. ヘッダーまたはダッシュボードから「定常タスク記録」ボタンをクリック
2. 定常タスクタイプを選択（会議、レビューなど）
3. タイトルと簡易説明を入力
4. 関連タグを追加（オプション）
5. プロジェクト紐付けを確認（デフォルトは直前プロジェクト）
6. 「開始」ボタンをクリック
7. 作業完了後、「完了」ボタンをクリック
8. 実績時間を確認
9. 完了確定

### 3.4 バッファ監視・対応フロー
1. ダッシュボードまたはプロジェクト画面でバッファステータスを確認
2. 黄色または赤色のステータスの場合、詳細を確認
3. バッファ消費トレンドグラフで消費パターンを分析
4. 必要に応じてタスクの優先順位を調整
5. 対応策を実施（スコープ調整、リソース追加など）
6. バッファ状態の変化を監視

## 4. UI コンポーネント仕様

### 4.1 共通コンポーネント
- **ボタン**:
  - プライマリーアクション: 青系統
  - セカンダリーアクション: グレー系統
  - 警告/削除アクション: 赤系統
  - 開始/停止アクション: 緑/オレンジ系統
- **フォーム要素**:
  - テキスト入力
  - 数値入力
  - 日付選択
  - ドロップダウン選択
  - チェックボックス
  - ラジオボタン
- **カード**:
  - 情報カード
  - アクションカード
  - ステータスカード
- **テーブル**:
  - ソート可能なヘッダー
  - フィルタリング機能
  - ページネーション
  - 行アクション
- **チャート**:
  - 折れ線グラフ
  - 棒グラフ
  - 円グラフ
  - バーンダウンチャート
  - ヒートマップ

### 4.2 特殊コンポーネント
- **バッファステータス表示**:
  - 緑: 0-33%（安全）
  - 黄: 34-67%（注意）
  - 赤: 68-100%（危険）
  - 視覚的なプログレスバー
  - パーセンテージ数値表示
- **タスク依存関係ビジュアライザー**:
  - ノードとエッジの表示
  - クリティカルパスのハイライト
  - ドラッグ＆ドロップでの関係編集
- **時間トラッカー**:
  - 開始/一時停止/停止コントロール
  - 経過時間のリアルタイム表示
  - タスク切り替え機能
- **見積り精度インジケーター**:
  - 過小/適正/過大見積りの視覚化
  - 傾向グラフ
  - 補正係数の提案

## 5. エラー処理とフィードバック

### 5.1 エラーメッセージ
- 明確で具体的なエラー内容の表示
- 対処方法の提示
- エラーコードの記録（デバッグ用）

### 5.2 操作フィードバック
- アクション成功時の視覚的確認
- 処理中の進捗表示
- 警告・確認ダイアログ
- ヘルプテキストとツールチップ

### 5.3 入力バリデーション
- リアルタイムバリデーション
- 入力制限と形式チェック
- 必須項目の明示
- 入力補助機能

## 6. アクセシビリティ

### 6.1 キーボード操作
- ショートカットキーの提供
- フォーカス移動の最適化
- タブ順序の論理的な設定

### 6.2 視覚的アクセシビリティ
- 十分なコントラスト比
- フォントサイズの調整機能
- カラーユニバーサルデザイン
- アイコンとテキストの併用

### 6.3 支援技術対応
- スクリーンリーダー対応
- ARIAラベルの適切な使用
- セマンティックなHTML構造
 